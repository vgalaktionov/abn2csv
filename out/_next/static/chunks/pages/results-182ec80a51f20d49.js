(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[255],{3384:function(e,n,t){"use strict";t.d(n,{zx:function(){return E}});var r=t(7375),a=t(2846),i=t(5031),l=t(8554),s=t.n(l),c=t(7294),o=t(6450),d=t(6956);function u(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}function m(){return(m=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var p=["size","colorScheme","variant","className","spacing","isAttached","isDisabled"],f=(0,o.kr)({strict:!1,name:"ButtonGroupContext"}),h=f[0],v=f[1],b=(0,a.Gp)((function(e,n){var t=e.size,r=e.colorScheme,l=e.variant,s=e.className,o=e.spacing,d=void 0===o?"0.5rem":o,f=e.isAttached,v=e.isDisabled,b=u(e,p),g=(0,i.cx)("chakra-button__group",s),x=c.useMemo((function(){return{size:t,colorScheme:r,variant:l,isDisabled:v}}),[t,r,l,v]),y={display:"inline-flex"};return y=m({},y,f?{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}}:{"& > *:not(style) ~ *:not(style)":{marginStart:d}}),c.createElement(h,{value:x},c.createElement(a.m$.div,m({ref:n,role:"group",__css:y,className:g},b)))}));i.Ts&&(b.displayName="ButtonGroup");var g=["label","placement","spacing","children","className","__css"],x=function(e){var n=e.label,t=e.placement;e.spacing;var r=e.children,l=void 0===r?c.createElement(d.$,{color:"currentColor",width:"1em",height:"1em"}):r,s=e.className,o=e.__css,p=u(e,g),f=(0,i.cx)("chakra-button__spinner",s),h="start"===t?"marginEnd":"marginStart",v=c.useMemo((function(){var e;return m(((e={display:"flex",alignItems:"center",position:n?"relative":"absolute"})[h]=n?"0.5rem":0,e.fontSize="1em",e.lineHeight="normal",e),o)}),[o,n,h]);return c.createElement(a.m$.div,m({className:f},p,{__css:v}),l)};i.Ts&&(x.displayName="ButtonSpinner");var y=["children","className"],_=function(e){var n=e.children,t=e.className,r=u(e,y),l=c.isValidElement(n)?c.cloneElement(n,{"aria-hidden":!0,focusable:!1}):n,s=(0,i.cx)("chakra-button__icon",t);return c.createElement(a.m$.span,m({display:"inline-flex",alignSelf:"center",flexShrink:0},r,{className:s}),l)};i.Ts&&(_.displayName="ButtonIcon");var j=["isDisabled","isLoading","isActive","isFullWidth","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","spinnerPlacement","className","as"],E=(0,a.Gp)((function(e,n){var t=v(),l=(0,a.mq)("Button",m({},t,e)),o=(0,a.Lr)(e),d=o.isDisabled,p=void 0===d?null==t?void 0:t.isDisabled:d,f=o.isLoading,h=o.isActive,b=o.isFullWidth,g=o.children,y=o.leftIcon,_=o.rightIcon,E=o.loadingText,S=o.iconSpacing,k=void 0===S?"0.5rem":S,C=o.type,w=o.spinner,T=o.spinnerPlacement,O=void 0===T?"start":T,$=o.className,G=o.as,I=u(o,j),B=c.useMemo((function(){var e,n=s()({},null!=(e=null==l?void 0:l._focus)?e:{},{zIndex:1});return m({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",width:b?"100%":"auto"},l,!!t&&{_focus:n})}),[l,t,b]),z=function(e){var n=c.useState(!e),t=n[0],r=n[1];return{ref:c.useCallback((function(e){e&&r("BUTTON"===e.tagName)}),[]),type:t?"button":void 0}}(G),L=z.ref,P=z.type,A={rightIcon:_,leftIcon:y,iconSpacing:k,children:g};return c.createElement(a.m$.button,m({disabled:p||f,ref:(0,r.qq)(n,L),as:G,type:null!=C?C:P,"data-active":(0,i.PB)(h),"data-loading":(0,i.PB)(f),__css:B,className:(0,i.cx)("chakra-button",$)},I),f&&"start"===O&&c.createElement(x,{className:"chakra-button__spinner--start",label:E,placement:"start"},w),f?E||c.createElement(a.m$.span,{opacity:0},c.createElement(N,A)):c.createElement(N,A),f&&"end"===O&&c.createElement(x,{className:"chakra-button__spinner--end",label:E,placement:"end"},w))}));function N(e){var n=e.leftIcon,t=e.rightIcon,r=e.children,a=e.iconSpacing;return c.createElement(c.Fragment,null,n&&c.createElement(_,{marginEnd:a},n),r,t&&c.createElement(_,{marginStart:a},t))}i.Ts&&(E.displayName="Button");var S=["icon","children","isRound","aria-label"],k=(0,a.Gp)((function(e,n){var t=e.icon,r=e.children,a=e.isRound,i=e["aria-label"],l=u(e,S),s=t||r,o=c.isValidElement(s)?c.cloneElement(s,{"aria-hidden":!0,focusable:!1}):null;return c.createElement(E,m({padding:"0",borderRadius:a?"full":void 0,ref:n,"aria-label":i},l),o)}));i.Ts&&(k.displayName="IconButton")},6956:function(e,n,t){"use strict";t.d(n,{$:function(){return u}});var r=t(917),a=t(2846),i=t(5031),l=t(9113),s=t(7294);function c(){return(c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var o=["label","thickness","speed","emptyColor","className"],d=(0,r.F4)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),u=(0,a.Gp)((function(e,n){var t=(0,a.mq)("Spinner",e),r=(0,a.Lr)(e),u=r.label,m=void 0===u?"Loading...":u,p=r.thickness,f=void 0===p?"2px":p,h=r.speed,v=void 0===h?"0.45s":h,b=r.emptyColor,g=void 0===b?"transparent":b,x=r.className,y=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(r,o),_=(0,i.cx)("chakra-spinner",x),j=c({display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:f,borderBottomColor:g,borderLeftColor:g,animation:d+" "+v+" linear infinite"},t);return s.createElement(a.m$.div,c({ref:n,__css:j,className:_},y),m&&s.createElement(l.TX,null,m))}));i.Ts&&(u.displayName="Spinner")},5419:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/results",function(){return t(5536)}])},5536:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return T}});var r=t(5893),a=t(1553),i=t(3384),l=t(894),s=t(1163),c=t(7294),o=t(8193),d=t(6956),u=t(2846),m=t(5031);function p(){return(p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function f(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}var h=["className"],v=["placement"],b=["isNumeric"],g=["isNumeric"],x=(0,u.Gp)((function(e,n){var t=(0,u.jC)("Table",e),r=(0,u.Lr)(e),a=r.className,i=f(r,h);return c.createElement(u.Fo,{value:t},c.createElement(u.m$.table,p({role:"table",ref:n,__css:t.table,className:(0,m.cx)("chakra-table",a)},i)))}));m.Ts&&(x.displayName="Table");var y=(0,u.Gp)((function(e,n){var t=e.placement,r=void 0===t?"bottom":t,a=f(e,v),i=(0,u.yK)();return c.createElement(u.m$.caption,p({},a,{ref:n,__css:p({},i.caption,{captionSide:r})}))}));m.Ts&&(y.displayName="TableCaption");var _=(0,u.Gp)((function(e,n){var t=(0,u.yK)();return c.createElement(u.m$.thead,p({},e,{ref:n,__css:t.thead}))})),j=(0,u.Gp)((function(e,n){var t=(0,u.yK)();return c.createElement(u.m$.tbody,p({},e,{ref:n,__css:t.tbody}))})),E=(0,u.Gp)((function(e,n){var t=e.isNumeric,r=f(e,b),a=(0,u.yK)();return c.createElement(u.m$.th,p({},r,{ref:n,__css:a.th,"data-is-numeric":t}))})),N=(0,u.Gp)((function(e,n){var t=(0,u.yK)();return c.createElement(u.m$.tr,p({role:"row"},e,{ref:n,__css:t.tr}))})),S=(0,u.Gp)((function(e,n){var t=e.isNumeric,r=f(e,g),a=(0,u.yK)();return c.createElement(u.m$.td,p({role:"gridcell"},r,{ref:n,__css:a.td,"data-is-numeric":t}))})),k=t(5281),C=function(e){var n=(0,c.useCallback)((function(){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e.data)),n.setAttribute("download",e.name),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}),[e]);return(0,r.jsx)(a.rU,{onClick:n,download:e.name,fontWeight:"bold",color:"teal.500",children:e.name})},w=function(){var e=(0,k.Yg)(),n=e.processing,t=e.transactions,i=e.csvString,l=t.length>0?"".concat((new Date).toLocaleString("en-GB").replaceAll("/","-"),"-abn-transactions.csv"):"";return(0,r.jsx)(a.xu,{h:"100%",p:"6",children:n?(0,r.jsx)(a.M5,{h:"100%",children:(0,r.jsx)(d.$,{})}):(0,r.jsxs)(a.gC,{h:"100%",justifyContent:"center",children:[(0,r.jsx)(a.X6,{fontSize:"xl",children:"Your CSV file is ready for download:"}),(0,r.jsx)(C,{name:l,data:i}),(0,r.jsxs)(a.xv,{pt:"6",children:["Preview (total transactions: ",t.length,")"]}),(0,r.jsxs)(x,{fontSize:"xs",children:[(0,r.jsx)(_,{children:(0,r.jsxs)(N,{children:[(0,r.jsx)(E,{children:"id"}),(0,r.jsx)(E,{children:"date"}),(0,r.jsx)(E,{children:"description"}),(0,r.jsx)(E,{children:"amount"}),(0,r.jsx)(E,{children:"currency"})]})}),(0,r.jsx)(j,{children:t.slice(0,5).map((function(e){return(0,r.jsxs)(N,{children:[(0,r.jsx)(S,{children:e.id.slice(0,6)}),(0,r.jsx)(S,{children:e.date.toLocaleDateString("en-GB")}),(0,r.jsx)(S,{children:e.description.length>40?e.description.slice(0,40)+"...":e.description}),(0,r.jsx)(S,{children:e.amount.toFixed(2)}),(0,r.jsx)(S,{children:e.currency})]},e.id)}))})]})]})})},T=function(){var e=(0,k.Yg)(),n=e.reset,t=e.error,d=e.files,u=(0,s.useRouter)();return(0,c.useEffect)((function(){0===d.length&&u.push("/")}),[d]),(0,r.jsxs)(a.gC,{height:"100%",children:[(0,r.jsx)(a.M5,{height:"100%",children:t?(0,r.jsx)(a.xv,{children:t.toString()}):(0,r.jsx)(w,{})}),(0,r.jsx)(a.Ug,{children:(0,r.jsx)(i.zx,{onClick:n,mx:"auto",mt:"3",leftIcon:(0,r.jsx)(l.JO,{as:o.YwC}),children:"Convert More Files"})}),(0,r.jsxs)(a.xv,{fontSize:"sm",pt:"9",textAlign:"center",children:["Looking for a personal finance manager to work with these CSVs? Try the great \xa0",(0,r.jsx)(a.rU,{href:"https://lunchmoney.app/?refer=kttiuizd",isExternal:!0,color:"rgb(251, 183, 0)",children:"Lunch Money"}),"!",(0,r.jsx)("br",{}),"That link will give you an extended trial of a month."]})]})}}},function(e){e.O(0,[774,888,179],(function(){return n=5419,e(e.s=n);var n}));var n=e.O();_N_E=n}]);